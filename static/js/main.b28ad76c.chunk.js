(this.webpackJsonpMernSurveyFrontend=this.webpackJsonpMernSurveyFrontend||[]).push([[0],{42:function(e,t,c){},43:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(35),a=c.n(r),i=(c(42),c(23),c(24),c(43),c(12)),l=c(6),o=c(13),j=c.n(o),u=c(14),d=c(5),p=c(16),b=c.n(p);function x(e){return b.a.get("http://localhost:5000/user/".concat(e))}var h=c(0),g=s.a.createContext(),O=g,v=function(e){var t=e.children,c=Object(n.useState)([]),s=Object(d.a)(c,2),r=s[0],a=s[1];return Object(h.jsx)(g.Provider,{value:{userList:r,setUserlist:a},children:t})};var f=function(){var e=Object(l.f)(),t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1],a=Object(n.useContext)(O);return console.log(a.userList[0]._id),Object(n.useEffect)(Object(u.a)(j.a.mark((function e(){var t,c,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i=a.userList[0]._id,b.a.get("http://localhost:5000/users/".concat(i));case 2:return t=e.sent,c=t.data.email,e.next=6,s=c,b.a.get("http://localhost:5000/survey/".concat(s));case 6:n=e.sent,r(n.data);case 8:case"end":return e.stop()}var s,i}),e)}))),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{className:"float-end btn btn-warning mt-2",onClick:function(){e.push("/survey/".concat(a.userList[0]._id))},children:"Add Survey"}),Object(h.jsxs)("table",{class:"table table-striped",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"name"}),Object(h.jsx)("th",{scope:"col",children:"email"}),Object(h.jsx)("th",{scope:"col",children:"phone"}),Object(h.jsx)("th",{scope:"col",children:"gender"}),Object(h.jsx)("th",{scope:"col",children:"DoB"}),Object(h.jsx)("th",{scope:"col",children:"Place"})]})}),Object(h.jsx)("tbody",{children:s.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:e.name}),Object(h.jsx)("td",{children:e.email}),Object(h.jsx)("td",{children:e.phone}),Object(h.jsx)("td",{children:e.gender}),Object(h.jsx)("td",{children:e.dob}),Object(h.jsx)("td",{children:e.place})]})}))})]})]})},m=c(3),y=c(4);var S=function(e){var t=Object(n.useState)(""),c=Object(d.a)(t,2),s=c[0],r=c[1],a=Object(n.useContext)(O),i=Object(n.useState)(a.userList[0].email),o=Object(d.a)(i,2),p=o[0],x=o[1],g=Object(n.useState)(""),v=Object(d.a)(g,2),f=v[0],S=v[1],w=Object(n.useState)(""),k=Object(d.a)(w,2),C=k[0],z=k[1],q=Object(n.useState)(""),F=Object(d.a)(q,2),L=F[0],N=F[1],A=Object(n.useState)(""),D=Object(d.a)(A,2),M=D[0],_=D[1],E=Object(l.f)(),I={name:s,email:p,phone:f,gender:C,dob:L,place:M};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{class:"container mt-5",children:Object(h.jsx)("div",{class:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{class:"card bg-dark col-4",children:[Object(h.jsx)("div",{class:"card-header bg-warning",children:Object(h.jsxs)("h3",{children:[Object(h.jsx)(m.a,{icon:y.g}),"Add Survey"]})}),Object(h.jsx)("div",{class:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c=I,b.a.post("http://localhost:5000/survey",c);case 3:x(""),r(""),S(""),z(""),N(""),_(""),E.push("/home");case 10:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.h,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"User Name",required:!0,value:s,onChange:function(e){r(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.d,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"email",class:"form-control",placeholder:"email",disabled:"true",value:p})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.f,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"tel",class:"form-control",placeholder:"99xx99xx99",pattern:"[0-9]{10}",required:!0,value:f,onChange:function(e){S(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.e,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"gender",required:!0,value:C,onChange:function(e){z(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.a,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"date",class:"form-control",placeholder:"dob",required:!0,value:L,onChange:function(e){N(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.c,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"place(city)",required:!0,value:M,onChange:function(e){_(e.target.value)}})]}),Object(h.jsx)("div",{class:"form-group",children:Object(h.jsx)("input",{type:"submit",value:"Add Survey",class:"btn float-end mt-1 btn-warning"})})]})})]})})})})};var w=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(d.a)(r,2),o=a[0],p=a[1],x=Object(n.useState)(""),g=Object(d.a)(x,2),O=g[0],v=g[1],f=Object(n.useState)(""),S=Object(d.a)(f,2),w=S[0],k=S[1],C=Object(n.useState)(""),z=Object(d.a)(C,2),q=z[0],F=z[1],L=Object(n.useState)(""),N=Object(d.a)(L,2),A=N[0],D=N[1],M=Object(n.useState)(""),_=Object(d.a)(M,2),E=_[0],I=_[1],P=Object(l.f)(),R={username:c,email:o,password:O,phone:w,gender:q,dob:A,place:E};return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{class:"container mt-5",children:Object(h.jsx)("div",{class:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{class:"card bg-dark col-4",children:[Object(h.jsx)("div",{class:"card-header bg-warning",children:Object(h.jsxs)("h3",{children:[Object(h.jsx)(m.a,{icon:y.g})," Register"]})}),Object(h.jsx)("div",{class:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(){var e=Object(u.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,c=R,b.a.post("http://localhost:5000/register",c);case 3:"email already exist"===e.sent.data.message?alert("Email already in use"):alert("successfully registered"),p(""),v(""),s(""),k(""),F(""),D(""),I(""),P.push("/login");case 13:case"end":return e.stop()}var c}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.h,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"User Name",required:!0,value:c,onChange:function(e){s(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.d,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"email",class:"form-control",placeholder:"email",required:!0,value:o,onChange:function(e){p(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.b,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"password",class:"form-control",placeholder:"password",required:!0,value:O,onChange:function(e){v(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.f,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"tel",class:"form-control",placeholder:"99xx99xx99",pattern:"[0-9]{10}",required:!0,value:w,onChange:function(e){k(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.e,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"gender",required:!0,value:q,onChange:function(e){F(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.a,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"date",class:"form-control",placeholder:"dob",required:!0,value:A,onChange:function(e){D(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.c,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"text",class:"form-control",placeholder:"place(city)",required:!0,value:E,onChange:function(e){I(e.target.value)}})]}),Object(h.jsx)("div",{class:"form-group",children:Object(h.jsx)("input",{type:"submit",value:"Register",class:"btn float-end mt-1 btn-warning"})})]})}),Object(h.jsx)("div",{class:"card-footer",children:Object(h.jsxs)("div",{class:"d-flex justify-content-center text-light links",children:["have an account?",Object(h.jsx)(i.b,{to:"/login",children:"Login"})]})})]})})})})};var k=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),c=t[0],s=t[1],r=Object(n.useState)(""),a=Object(d.a)(r,2),o=a[0],p=a[1],g=Object(l.f)(),v={email:c,password:o},f=Object(n.useContext)(O);return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{class:"container mt-5",children:Object(h.jsx)("div",{class:"d-flex justify-content-center h-100",children:Object(h.jsxs)("div",{class:"card bg-dark col-4",children:[Object(h.jsx)("div",{class:"card-header bg-warning",children:Object(h.jsxs)("h3",{children:[Object(h.jsx)(m.a,{icon:y.g}),"Login"]})}),Object(h.jsx)("div",{class:"card-body",children:Object(h.jsxs)("form",{onSubmit:function(){var e=Object(u.a)(j.a.mark((function e(t){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,a=v,b.a.post("http://localhost:5000/login",a);case 4:if(n=e.sent,window.localStorage.setItem("app_token",n.data.token),!n.data.token){e.next=16;break}return e.next=10,x(c);case 10:r=e.sent,console.log(r),f.setUserlist([r.data]),g.push("/home"),e.next=18;break;case 16:alert("Email or password is incorrect"),g.push("/login");case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(1),console.log(e.t0);case 23:s(""),p("");case 25:case"end":return e.stop()}var a}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),children:[Object(h.jsxs)("div",{class:"input-group form-group",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.d,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"email",class:"form-control",placeholder:"email",required:!0,value:c,onChange:function(e){s(e.target.value)}})]}),Object(h.jsxs)("div",{class:"input-group form-group mt-1",children:[Object(h.jsx)("div",{class:"input-group-prepend",children:Object(h.jsx)("span",{class:"input-group-text bg-warning",children:Object(h.jsx)(m.a,{icon:y.b,style:{fontSize:"1.75em"}})})}),Object(h.jsx)("input",{type:"password",class:"form-control",placeholder:"password",required:!0,value:o,onChange:function(e){p(e.target.value)}})]}),Object(h.jsx)("div",{class:"form-group mt-1",children:Object(h.jsx)("input",{type:"submit",value:"Login",class:"btn float-end btn-warning"})})]})}),Object(h.jsx)("div",{class:"card-footer",children:Object(h.jsxs)("div",{class:"d-flex justify-content-center text-light links",children:["Don't have an account?",Object(h.jsx)(i.b,{to:"/register",children:"Register"})]})})]})})})})};var C=function(){var e=Object(l.f)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{class:"navbar navbar-expand-lg navbar-light bg-dark",children:[Object(h.jsxs)("a",{class:"navbar-brand text-light",children:[Object(h.jsx)(m.a,{icon:y.g})," Survey"]}),Object(h.jsx)("button",{class:"navbar-toggler bg-light",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{class:"navbar-toggler-icon"})}),Object(h.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(h.jsxs)("div",{class:"navbar-nav",children:[Object(h.jsx)(i.b,{class:"nav-item nav-link text-light",to:"/login",children:"Login"}),Object(h.jsx)(i.b,{class:"nav-item nav-link text-light",to:"/register",children:"Register"}),Object(h.jsx)(i.b,{class:"nav-item nav-link text-light",to:"/login",onClick:function(){window.localStorage.removeItem("app_token"),e.push("/login")},children:"Logout"})]})})]})})};var z=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(i.a,{children:[Object(h.jsx)(C,{}),Object(h.jsx)("div",{className:"container",children:Object(h.jsx)(v,{children:Object(h.jsxs)(l.c,{children:[Object(h.jsx)(l.a,{path:"/login",component:k,exact:!0}),Object(h.jsx)(l.a,{path:"/register",component:w,exact:!0}),Object(h.jsx)(l.a,{path:"/home",component:f,exact:!0}),Object(h.jsx)(l.a,{path:"/survey/:id",component:S,exact:!0})]})})})]})})},q=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;c(e),n(e),s(e),r(e),a(e)}))};a.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(z,{})}),document.getElementById("root")),q()}},[[70,1,2]]]);
//# sourceMappingURL=main.b28ad76c.chunk.js.map